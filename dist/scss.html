<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Sass.js Worker Console</title>
</head>

<body>
  <h1>Sass.js Worker Console</h1>
  <p>This document loads the <em>worker</em> Sass.js. Please open your browser's DevTools to use the API.</p>
  <h2>Try the following example:</h2>
  <textarea name="" id="source" cols="80" rows="20"></textarea>
  <textarea name="" id="result" cols="80" rows="20"></textarea>
  <script src="sass.js"></script>
  <script>
  // when loading the worker api via script[src$="/sass.js"] it's a safe bet the worker
  // will be found relative to that file. In any other case you'd have to define where
  // the worker is located before initializing Sass:
  // Sass.setWorkerUrl('dist/sass.worker.js');
  var sass = new Sass();
  sass.options({
    style: Sass.style.expanded
  })
  // sass.writeFile('testfile.scss', '@import "deeptest";\n.testfile { content: "loaded"; }', function() {
  //   console.log('wrote "testfile.scss"');
  // });
  // sass.writeFile('deeptest.scss', '.deeptest { content: "loaded"; }', function() {
  //   console.log('wrote "deeptest.scss"');
  // });
  // sass.options({
  //   style: Sass.style.expanded
  // }, function(result) {
  //   console.log("set options");
  // });
  // sass.compile('@import "testfile";', function(result) {
  //   console.log("compiled", result.text);
  // });

  var source = document.getElementById('source');
  var result = document.getElementById('result');
  source.addEventListener('input', function(){
    var sourceScss = this.value;
    var resultScss = sass.compile(sourceScss, function(date){
      if(date.status===0){
        result.value = date.text;
      }else{
        result.value = date.message;
      }
    })
  })
  </script>
</body>

</html>
